---
interface Props {
  title: string,
  theme: "primary" | "secondary" | "tertiary" | "quaternary"
  level: number,
  class?: string,
  transitionName?: string;
}

const { title, theme, level, class: className, transitionName }: Props = Astro.props;
const Element = 'h' + level

function removeSpanTags(text: string) {
  return text.replace(/<\/?span[^>]*>/g, '');
}
---
<Element class:list={[className, 'highlight-heading']} set:html={title} data-theme={theme} aria-label={removeSpanTags(title)} {...transitionName ? { 'transition:name': transitionName, 'transition:persist' : true } : {}}></Element>